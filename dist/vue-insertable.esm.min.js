/*!
 * vue-insertable v0.1.1
 * (c) 2019-2020 Fierflame
 * @license MIT
 */
function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?e(s,!0).forEach((function(e){t(r,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):e(s).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(s,t))}))}return r}const n={name:"InsertView",functional:!0,render(t,{parent:e,props:n,data:s}){const{name:i}=n,{$insertable:o}=e;if(!o)return[];const c=o.get(i);return c?c.map(e=>t(e,function(t){const{key:e,slot:n,ref:s,staticClass:i,class:o,staticStyle:c,style:a,props:p,attrs:l,domProps:u,on:f,nativeOn:h,show:b,directives:d,keepAlive:g}=t;return{key:e,slot:n,ref:s,refInFor:!0,staticClass:i,class:o,staticStyle:c,style:a,props:r({},p),attrs:r({},l),domProps:r({},u),on:r({},f),nativeOn:r({},h),show:b,directives:d&&[...d],keepAlive:g}}(s))):[]}};let s;function i(t){s!==t&&(s=t,Object.defineProperty(t.prototype,"$insertable",{get(){if(this.$parent)return this.$parent.$insertable},configurable:!0}),t.component("InsertView",n),t.mixin({beforeCreate(){let t=this.$options.insertable;"function"==typeof t&&(t=t(this.$parent&&this.$parent.$insertable)),t instanceof o&&Object.defineProperty(this,"$insertable",{value:t,configurable:!0})}}))}class o{constructor(e,r){t(this,"_inited",!1),t(this,"parent",void 0),t(this,"_groups",Object.create(null)),e instanceof o?this.parent=e:[e,r]=[,e];const{groups:n={}}=r||{};for(let t in n)this.set(t,n)}init(){if(this._inited)return this._groups;if(!s)return this._groups;this._inited=!0;const t=Object.create(null),e=this._groups;for(const r in e)s.set(t,r,e[r]);return this._groups=t,t}add(t,e,r=0){const n=this.init();Array.isArray(e)||(e=[e]);const i=n[t]?[...n[t]]:[];i.push(...e.map(t=>({component:t,order:r}))),i.sort(({order:t},{order:e})=>t-e),s?s.set(n,t,i):n[t]=i}remove(t,e,r=0){const n=this.init(),i=n[t];if(!i)return;if(!e)return void(s?s.set(n,t,[]):n[t]=[]);const o=i.findIndex(t=>t.component===e&&t.order===r);if(o<0)return;const c=[...i.slice(0,o),...i.slice(o+1)];s?s.set(n,t,c):n[t]=c}set(t,e,r=0){const n=this.init();Array.isArray(e)||(e=[e]);const i=e.map(t=>({component:t,order:r}));s?s.set(n,t,i):n[t]=i}_getInfo(t,e){const r=this.init()[t]||[];if(e)return r;const n=this.parent?this.parent._getInfo(t):[],s=[...n,...r];return r.length&&n.length&&s.sort(({order:t},{order:e})=>t-e),s}get(t,e){return this._getInfo(t,e).map(({component:t})=>t)}static get install(){return i}static get View(){return n}}t(o,"version","0.1.1");export default o;
//# sourceMappingURL=vue-insertable.esm.min.js.map
